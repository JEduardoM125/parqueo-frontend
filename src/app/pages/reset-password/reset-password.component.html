<div class="theme-wrapper">


    <div class="container mt-5">
        <div class="row justify-content-center">
          <div class="col-md-6 col-lg-4">
            <div class="card">
              <div class="card-body">
                <h2 class="card-title text-center mb-4">Restablecer Contraseña</h2>
                <p class="text-center">Para: <strong>{{email()}}</strong></p>
                
                @if (errorMessage()) {
                  <div class="alert alert-danger">{{ errorMessage() }}</div>
                }
      
                <form (ngSubmit)="onSubmit()">
                  <div class="mb-3">
                    <label class="form-label">Token de Verificación</label>
                    <input 
                      type="text" 
                      class="form-control" 
                      [ngModel]="token()"
                      (ngModelChange)="token.set($event)"
                      name="token"
                      required
                      placeholder="Ingresa el token recibido">
                  </div>
      
                  <div class="mb-3">
                    <label class="form-label">Nueva Contraseña</label>
                    <input 
                      type="password" 
                      class="form-control" 
                      [ngModel]="newPassword()"
                      (ngModelChange)="newPassword.set($event)"
                      name="newPassword"
                      required
                      minlength="6"
                      placeholder="Mínimo 6 caracteres">
                  </div>
      
                  <div class="mb-3">
                    <label class="form-label">Confirmar Contraseña</label>
                    <input 
                      type="password" 
                      class="form-control" 
                      [ngModel]="confirmPassword()"
                      (ngModelChange)="confirmPassword.set($event || '')"
                      name="confirmPassword"
                      required
                      placeholder="Repite tu contraseña">
                  </div>
      
                  <button 
                    type="submit" 
                    class="btn btn-primary w-100"
                    [disabled]="isLoading()">
                    @if (isLoading()) {
                      <span class="spinner-border spinner-border-sm"></span>
                    } @else {
                      Restablecer Contraseña
                    }
                  </button>
                </form>
      
                <div class="text-center mt-3">
                    <button type="button" class="btn btn-primary" (click)="login()">Login</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>



</div>
